<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine?</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden; /* Prevent scrollbars when button moves to edges */
            touch-action: none; /* Prevent scrolling on mobile while playing */
        }

        /* Smooth transition for the No button */
        #no-btn {
            transition: all 0.2s ease-out;
        }

        /* Heart Animation */
        .heart {
            position: absolute;
            color: #e11d48;
            font-size: 1.5rem;
            animation: floatUp 4s linear infinite;
            opacity: 0;
            user-select: none;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) scale(0.5);
                opacity: 1;
            }
            100% {
                transform: translateY(-10vh) scale(1.5);
                opacity: 0;
            }
        }
    </style>
</head>
<body class="bg-white h-screen w-screen flex flex-col items-center justify-center relative">

    <!-- PAGE 1: PROPOSAL -->
    <div id="proposal-page" class="flex flex-col items-center justify-center w-full h-full text-center p-4 z-10 transition-opacity duration-500">
        <h1 class="text-4xl md:text-6xl font-bold text-gray-800 mb-12">
            Chandni, will you be my girlfriend plssss?
        </h1>
        
        <div class="flex flex-row items-center justify-center gap-8 w-full h-24">
            <!-- Yes Button -->
            <button id="yes-btn" class="bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg transform transition hover:scale-110 cursor-pointer z-20">
                Yes ‚ù§Ô∏è
            </button>
            
            <!-- No Button (Initially positioned relatively, then becomes absolute via JS) -->
            <button id="no-btn" class="bg-gray-400 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg cursor-not-allowed">
                No
            </button>
        </div>
    </div>

    <!-- PAGE 2: SUCCESS -->
    <div id="success-page" class="hidden flex-col items-center justify-center w-full h-full text-center p-4 z-10 opacity-0 transition-opacity duration-500">
        <div class="mb-8 relative">
            <img src="https://media.tenor.com/gUiu1zyxfzYAAAAC/bear-kiss-bear-kisses.gif" alt="Cute Bear Kiss" class="rounded-xl shadow-2xl w-64 md:w-80 mx-auto">
        </div>
        
        <h2 class="text-3xl md:text-5xl font-bold text-pink-600 mb-4">
            YAY! I knew it! ü•∞
        </h2>
        
        <p class="text-xl md:text-2xl text-gray-600 font-medium italic">
            You didn‚Äôt really have a choice üòè
        </p>
    </div>

    <!-- Container for hearts/confetti -->
    <div id="hearts-container" class="absolute inset-0 pointer-events-none overflow-hidden z-0"></div>

    <script>
        const proposalPage = document.getElementById('proposal-page');
        const successPage = document.getElementById('success-page');
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const heartsContainer = document.getElementById('hearts-container');

        let isAbsolute = false;

        // Function to move the "No" button
        function moveNoButton() {
            // Get viewport dimensions
            const maxX = window.innerWidth - noBtn.offsetWidth - 20; // 20px padding
            const maxY = window.innerHeight - noBtn.offsetHeight - 20;
            const minX = 20;
            const minY = 20;

            // Generate random coordinates
            const randomX = Math.max(minX, Math.floor(Math.random() * maxX));
            const randomY = Math.max(minY, Math.floor(Math.random() * maxY));

            // Apply absolute positioning if not already applied
            if (!isAbsolute) {
                noBtn.style.position = 'absolute';
                isAbsolute = true;
            }

            // Apply new coordinates
            noBtn.style.left = randomX + 'px';
            noBtn.style.top = randomY + 'px';
        }

        // Add event listeners for "No" button evasion
        
        // Desktop: Proximity detection
        document.addEventListener('mousemove', (e) => {
            // Only run if proposal page is visible
            if (proposalPage.classList.contains('hidden')) return;
            
            const rect = noBtn.getBoundingClientRect();
            const btnCenterx = rect.left + rect.width / 2;
            const btnCentery = rect.top + rect.height / 2;
            
            // Calculate distance between mouse and button center
            const distance = Math.sqrt(
                Math.pow(e.clientX - btnCenterx, 2) + 
                Math.pow(e.clientY - btnCentery, 2)
            );

            // Trigger move if cursor is within 150px (force field effect)
            if (distance < 150) {
                moveNoButton();
            }
        });

        // Mobile: Touchstart (triggers before click)
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Prevent click
            moveNoButton();
        });
        
        // Fallback: Click
        noBtn.addEventListener('click', (e) => {
            e.preventDefault();
            moveNoButton();
        });

        // "Yes" button click handler
        yesBtn.addEventListener('click', () => {
            // Fade out proposal page
            proposalPage.style.opacity = '0';
            
            setTimeout(() => {
                proposalPage.classList.add('hidden');
                successPage.classList.remove('hidden');
                // Trigger reflow
                void successPage.offsetWidth; 
                // Fade in success page
                successPage.style.opacity = '1';
                
                // Start confetti/heart animation
                startHearts();
            }, 500);
        });

        // Function to create floating hearts
        function startHearts() {
            setInterval(() => {
                createHeart();
            }, 300);
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.classList.add('heart');
            
            // Random horizontal start position
            heart.style.left = Math.random() * 100 + 'vw';
            
            // Random animation duration
            const duration = 3 + Math.random() * 3;
            heart.style.animationDuration = duration + 's';
            
            heartsContainer.appendChild(heart);

            // Remove heart after animation finishes
            setTimeout(() => {
                heart.remove();
            }, duration * 1000);
        }
    </script>
</body>
</html>